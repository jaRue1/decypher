<div id="habits_weekly_progress" class="bg-slate-900 border border-slate-700 rounded-lg p-6"
     data-controller="weekly-progress"
     data-weekly-progress-labels-value="<%= week_labels.to_json %>"
     data-weekly-progress-data-value="<%= week_completed.to_json %>"
     data-weekly-progress-percentage-value="<%= week_percentage %>"
     data-weekly-progress-completed-value="<%= week_total_completed %>"
     data-weekly-progress-total-value="<%= week_total_possible %>">
  <h3 class="font-mono text-xs uppercase tracking-widest text-slate-500 mb-4">Weekly Progress</h3>
  <div class="flex gap-6 items-center overflow-hidden">
    <!-- Bar Chart -->
    <div class="flex-1 min-w-0 h-36">
      <canvas data-weekly-progress-target="barChart"></canvas>
    </div>
    <!-- Donut Chart with percentage -->
    <div class="w-32 flex-shrink-0 flex flex-col items-center">
      <div class="relative w-24 h-24 overflow-hidden">
        <canvas data-weekly-progress-target="donutChart"></canvas>
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
          <span class="font-mono text-2xl text-emerald-400 font-bold"><%= week_percentage %>%</span>
        </div>
      </div>
      <p class="font-mono text-xs text-slate-500 mt-2 text-center"><%= week_total_completed %> / <%= week_total_possible %> Completed</p>
    </div>
  </div>
</div>
