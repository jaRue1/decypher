<div class="p-8 max-w-2xl mx-auto">
  <%= link_to "← Back", domain_path(@domain.slug), class: "text-slate-400 hover:text-slate-200 text-sm" %>

  <div class="mt-6">
    <h1 class="font-mono text-2xl text-slate-100">Set Up <%= @domain.name %> with The Operator</h1>
    <p class="text-slate-400 mt-2">Tell me about your goals and I'll create a personalized learning plan.</p>
  </div>

  <!-- Step Indicator -->
  <%= render 'wizard_step_indicator', domain_setup: @domain_setup %>

  <!-- Step Content -->
  <turbo-frame id="wizard_step" class="block mt-8">
    <% case @domain_setup.step %>
    <% when 'goals' %>
      <%= render 'wizard_step_goals', domain: @domain, domain_setup: @domain_setup %>
    <% when 'background' %>
      <%= render 'wizard_step_background', domain: @domain, domain_setup: @domain_setup %>
    <% when 'preview' %>
      <%= render 'wizard_step_preview', domain: @domain, domain_setup: @domain_setup %>
    <% when 'completed' %>
      <div class="bg-slate-900 border border-emerald-700 rounded-lg p-6 text-center">
        <div class="w-16 h-16 mx-auto mb-4 bg-emerald-500/20 rounded-full flex items-center justify-center">
          <span class="text-3xl">✓</span>
        </div>
        <h3 class="font-mono text-lg text-emerald-400 mb-2">Setup Complete!</h3>
        <p class="text-slate-400">The Operator has created your personalized learning plan.</p>
        <%= link_to "View #{@domain.name}", domain_path(@domain.slug),
            class: "inline-block mt-4 bg-blue-600 hover:bg-blue-500 text-white font-mono uppercase tracking-wide text-sm px-4 py-2 rounded transition-colors" %>
      </div>
    <% end %>
  </turbo-frame>

  <!-- Reset Option -->
  <% unless @domain_setup.goals_step? %>
    <div class="mt-8 text-center">
      <%= button_to "Start Over", reset_setup_domain_path(@domain.slug), method: :delete,
          class: "font-mono text-xs text-slate-500 hover:text-slate-300",
          data: { turbo_confirm: "This will reset your progress. Continue?" } %>
    </div>
  <% end %>
</div>
