<div class="p-8">
  <%= link_to "â† Back to Dashboard", root_path, class: "text-slate-400 hover:text-slate-200 text-sm" %>

  <div class="mt-6">
    <h1 class="font-mono text-2xl text-slate-100"><%= @domain.name %></h1>
    <p class="text-slate-400 mt-2"><%= @domain.description %></p>
  </div>

  <div class="mt-8">
    <% if @user_domain&.setup_completed %>
      <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
        <div class="flex items-start justify-between">
          <div>
            <span class="font-mono text-xs uppercase tracking-widest text-slate-400">Current Level</span>
            <span class="block font-mono text-4xl text-blue-400 mt-2">L<%= @user_domain.level %></span>
            <span class="text-slate-300"><%= @domain.level_titles[@user_domain.level.to_s] %></span>
          </div>
          <div class="text-right">
            <span class="font-mono text-xs uppercase tracking-widest text-slate-400 block">Progress</span>
            <span class="font-mono text-lg text-slate-300"><%= @user_domain.xp || 0 %> / 400 XP</span>
            <span class="font-mono text-xs text-slate-500 block">Grade <%= @user_domain.current_grade || 'D' %></span>
          </div>
        </div>
        <div class="mt-4 h-2 bg-slate-800 rounded-full overflow-hidden">
          <div class="h-full bg-blue-500" style="width: <%= @user_domain.level_progress_percentage %>%"></div>
        </div>
      </div>

      <!-- Reset Domain -->
      <div class="mt-6" data-controller="confirm">
        <%= button_to reset_domain_path(@domain.slug), method: :delete,
            data: { action: "click->confirm#open" },
            class: "font-mono text-xs text-red-400 hover:text-red-300 px-3 py-2 border border-red-900 rounded hover:border-red-700 transition-colors" do %>
          Reset Domain
        <% end %>
        <%= render "shared/reset_modal", domain: @domain %>
      </div>
    <% else %>
      <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
        <p class="text-slate-400 mb-4">You haven't set up this domain yet.</p>
        <%= link_to "Set Up #{@domain.name}", setup_domain_path(@domain.slug),
            class: "bg-blue-600 hover:bg-blue-500 text-white font-mono uppercase tracking-wide text-sm px-4 py-2 rounded transition-colors inline-block" %>
      </div>
    <% end %>
  </div>
</div>