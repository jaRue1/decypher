<%= form_with model: mission, class: "space-y-6" do |f| %>
  <% if mission.errors.any? %>
    <div class="bg-red-900/20 border border-red-800 rounded-lg p-4">
      <p class="text-red-400 font-mono text-sm"><%= pluralize(mission.errors.count, "error") %> prevented saving:</p>
      <ul class="mt-2 text-red-300 text-sm list-disc list-inside">
        <% mission.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :domain_id, "Domain", class: "block font-mono text-xs uppercase tracking-widest text-slate-500 mb-2" %>
    <%= f.collection_select :domain_id, domains, :id, :name, { prompt: "Select a domain" }, { class: "w-full bg-slate-800 border border-slate-700 rounded px-4 py-3 text-slate-100 font-mono focus:outline-none focus:border-blue-500" } %>
  </div>

  <div>
    <%= f.label :title, class: "block font-mono text-xs uppercase tracking-widest text-slate-500 mb-2" %>
    <%= f.text_field :title, class: "w-full bg-slate-800 border border-slate-700 rounded px-4 py-3 text-slate-100 font-mono focus:outline-none focus:border-blue-500", placeholder: "Mission title" %>
  </div>

  <div>
    <%= f.label :description, class: "block font-mono text-xs uppercase tracking-widest text-slate-500 mb-2" %>
    <%= f.text_area :description, rows: 4, class: "w-full bg-slate-800 border border-slate-700 rounded px-4 py-3 text-slate-100 font-mono focus:outline-none focus:border-blue-500", placeholder: "What do you want to accomplish?" %>
  </div>

  <div>
    <%= f.label :grade, "Mission Grade", class: "block font-mono text-xs uppercase tracking-widest text-slate-500 mb-2" %>
    <div class="grid grid-cols-4 gap-3">
      <% [["D", "Beginner", "~100 XP"], ["C", "Intermediate", "~200 XP"], ["B", "Advanced", "~300 XP"], ["A", "Level Up", "400 XP"]].each do |grade, label, xp| %>
        <label class="relative cursor-pointer">
          <%= f.radio_button :grade, grade, class: "peer sr-only" %>
          <div class="p-4 bg-slate-800 border border-slate-700 rounded-lg text-center peer-checked:border-blue-500 peer-checked:bg-blue-500/10 hover:border-slate-600 transition-colors">
            <span class="block font-mono text-2xl text-slate-100 mb-1">Grade <%= grade %></span>
            <span class="block font-mono text-xs text-slate-500"><%= label %></span>
            <span class="block font-mono text-xs text-slate-600 mt-1"><%= xp %></span>
          </div>
        </label>
      <% end %>
    </div>
    <p class="text-slate-500 text-xs mt-2">Grade determines mission difficulty and XP potential</p>
  </div>

  <div class="flex items-center gap-4 pt-4">
    <%= f.submit class: "bg-blue-600 hover:bg-blue-500 text-white font-mono text-sm px-6 py-3 rounded transition-colors cursor-pointer" %>
    <%= link_to "Cancel", missions_path, class: "text-slate-400 hover:text-white font-mono text-sm px-4 py-3" %>
  </div>
<% end %>
